var JSTutorial={version:'1.0.0',dialogPad:3,nextContent:'Next &raquo;',closeContent:'close',arrowPositions:['top','right','bottom','left'],dialog:null,content:null,nextButton:null,displaying:null,play:function(descriptor){try{if(!this.dialog)this._build();this._display(descriptor);}
catch(ignored){this._error(descriptor);}},next:function(){if(!this.displaying||!this.displaying.next){this.quit();return;}
try{if(!this.dialog)this._build();this._display(this.displaying.next());}
catch(ignored){this._error(this.displaying.next());}},quit:function(){if(this.dialog){this.dialog.remove();$(window).unbind('resize',JSTutorial._repositionCurrentDialog);}
this.dialog=null;},_error:function(descriptor){var msg='';for(var i in descriptor)msg+=i+": `"+descriptor[i]+"',\n"
alert("Oh no! There was an error displaying this part of the tutorial."+"  If you know how to get in touch with the developers, here's the error message to send them: \n\n"+
msg);},_display:function(descriptor){this.dialog.addClass('hidden');this.nextButton.html(this.nextContent);if(descriptor.next)this.nextButton.removeClass('hidden');else this.nextButton.addClass('hidden');this.content.html(descriptor.content);this.dialog.css({width:descriptor.width,position:'absolute'});for(var i=0;i<this.arrowPositions.length;++i)this.dialog.removeClass(this.arrowPositions[i]+'-arrow');if(descriptor.arrow)this.dialog.addClass(descriptor.arrow+'-arrow');this._repositionDialog(descriptor);this.dialog.removeClass('hidden');$('html,body').animate({scrollTop:$(descriptor.target).offset().top-100},1000);this.displaying=descriptor;if(descriptor.callback)descriptor.callback();},_repositionDialog:function(descriptor){this.dialog.css(this._dialogPosition($(descriptor.target),$(descriptor.target).offset(),descriptor.arrow));},_repositionCurrentDialog:function(){JSTutorial._repositionDialog(JSTutorial.displaying);},_dialogPosition:function(target,targetPosition,arrowPosition){if(arrowPosition=='top'){return{top:(targetPosition.top+target.outerHeight())+'px',left:((target.outerWidth()-this.dialog.outerWidth())/2+targetPosition.left)+'px'};}
if(arrowPosition=='bottom'){return{bottom:targetPosition.top+'px',left:((target.outerWidth()-this.dialog.outerWidth())/2+targetPosition.left)+'px'};}
if(arrowPosition=='left'){return{top:((target.outerHeight()-this.dialog.outerHeight())/2+targetPosition.top)+'px',left:(targetPosition.left+target.outerWidth()+this.dialogPad)+'px'};}
if(arrowPosition=='right'){return{top:((target.outerHeight()-this.dialog.outerHeight())/2+targetPosition.top)+'px',left:(targetPosition.left-this.dialog.outerWidth()-this.dialogPad)+'px'};}},_build:function(){var d1=document.createElement('div');d1.id='js-tutorial-balloon';d1.className='js-tutorial-balloon hidden';this.dialog=$(d1);var d2=document.createElement('div');d2.className='arrow';d1.appendChild(d2);var d3=document.createElement('div');d3.className='body';d1.appendChild(d3);var d4=document.createElement('div');d4.className='content';d3.appendChild(d4);this.content=$(d4);var d5=document.createElement('div');d5.className='buttons';d3.appendChild(d5);var span1=document.createElement('span');span1.className='cancel';d5.appendChild(span1);var a1=document.createElement('a');span1.appendChild(a1);var txt9=document.createTextNode(this.closeContent);a1.appendChild(txt9);a1.onclick=function(){JSTutorial.quit()};var span2=document.createElement('span');span2.className='continue';d5.appendChild(span2);var a2=document.createElement('a');this.nextButton=$(a2);span2.appendChild(a2);var txt11=document.createTextNode(this.nextContent);a2.appendChild(txt11);a2.onclick=function(){JSTutorial.next()};document.body.appendChild(d1);$(window).resize(JSTutorial._repositionCurrentDialog);}};